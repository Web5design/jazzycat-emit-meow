<script type="text/html" id="breadcrumb-template">
  <ul class="breadcrumb">
    <li><a data-bind="click: deselect" href="#">Home</a><span class="divider">/</span></li>
    <li><span data-bind="text: mapperName" class="active"></span></li>
  </ul>
</script>
<div data-bind="if: !user()" class="container">
  <h2>Mapper Maker</h2>
  <a href="https://www.dailycred.com/oauth/gateway?client_id=a17d7abb-849a-4fd1-ad9c-eff1eaf0cfb0&amp;response_type=token"
    class="btn btn-large btn-primary">Login</a>
</div>
<div data-bind="if: user">
  <script src="public/models/all.js"></script>
  <div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container"><a href="#" class="brand">Mapper Maker</a>
        <ul class="nav">
          <li class="active"><a href="#">Home</a></li>
        </ul>
        <div class="nav-collapse collapse navbar-responsive-collapse">
          <form class="navbar-search pull-right">
            <input
              type="text"
              placeholder="Search"
              class="search-query span2">
          </form>
        </div>
      </div>
    </div>
  </div>
  <div data-bind="if: selectedMapper" class="container paddingPush">
    <div data-bind="template: {
      name: 'breadcrumb-template',
      data: selectedMapper
    }"></div>
    <section class="container">
      <div data-bind="template: {
        name: 'mapper-template',
        data: selectedMapper
      }" class="mapper"></div>
    </section>
  </div>
  <section data-bind="if: !selectedMapper()" class="container">
    <button data-bind="click: createMapper"
      class="btn btn-success pull-right">New Mapper</button>
    <table class="table table-striped table-hover">
      <thead>
        <tr>
          <th>Mapper</th>
          <th>Contributions</th>
          <th>Last Updated</th>
        </tr>
      </thead>
      <tbody data-bind="foreach: mappers">
        <tr data-bind="click: select" class="actionable">
          <td data-bind="text: mapperName"></td>
          <td data-bind="text: numContributions"></td>
          <td data-bind="text: lastUpdated"></td>
        </tr>
      </tbody>
    </table>
  </section>
</div>
<script type="text/html" id="mapper-template">
  <h2 data-bind="text: mapperName"></h2>
  <p>Updated: <span data-bind="text: lastUpdated"></span></p>
</script>