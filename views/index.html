<script type="text/html" id="index">
  <div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container">
        <a href="#" class="brand">Mapper Maker</a>
        <div class="nav-collapse collapse navbar-responsive-collapse">
          <div data-bind="if: !user()">
            <a class="btn btn-primary pull-right"
              href="https://www.dailycred.com/oauth/gateway?client_id=a17d7abb-849a-4fd1-ad9c-eff1eaf0cfb0&amp;response_type=token">Login to Contribute</a>
          </div>
          <div data-bind="if: user">
            <button
              class="btn btn-success pull-right"
              data-target="#contributionModal"
              data-toggle="modal">Add Contribution</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div data-bind="if: selectedMapper" class="container paddingPush">
    <div data-bind="template: {
        name: 'breadcrumb-template',
        data: selectedMapper
      }"></div>
    <section class="container">
      <div data-bind="template: {
        name: 'mapper-template',
        data: selectedMapper
      }" class="mapper"></div>
    </section>
  </div>
  <section data-bind="if: !selectedMapper()" class="container">
    <div data-bind="template: {
      name: 'breadcrumb-template',
      data: {'mapperName': null}
    }"></div>
    <form class="form-search pull-right">
      <input
        type="text"
        placeholder="Search mappers..."
        class="input-medium search-query">
    </form>
    <table class="table table-striped table-hover">
      <thead>
        <tr>
          <th>Mapper</th>
          <th>Contributions</th>
          <th>Last Updated</th>
        </tr>
      </thead>
      <tbody data-bind="foreach: mappers">
        <tr data-bind="click: select" class="actionable">
          <td data-bind="text: mapperName"></td>
          <td data-bind="text: numContributions"></td>
          <td data-bind="text: lastUpdated"></td>
        </tr>
      </tbody>
    </table>
  </section>
  <div id="contributionModal" class="modal hide fade">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
      <h3>Add Mapper Maker contribution</h3>
    </div>
    <div class="modal-body">
      <form class="form-horizontal">
        <div>
          Geo select
        </div>
        <div class="control-group">
          <label class="control-label" for="lat">Latitude</label>
          <div class="controls">
            <label style="padding-top: 5px;">37.7943446N</label>
          </div>
        </div>
        <div class="control-group">
          <label class="control-label" for="lng">Latitude</label>
          <div class="controls">
            <label style="padding-top: 5px;">122.399981W</label>
          </div>
        </div>
        <div class="control-group">
          <label class="control-label" for="keywords">Keywords</label>
          <div class="controls">
            <input type="text" id="keywords" placeholder="cat, feline, meow">
          </div>
        </div>
        <div class="control-group">
          <label class="control-label" for="url">URL (Optional)</label>
          <div class="controls">
            <input type="text" id="url" placeholder="URL">
          </div>
        </div>
        <div class="control-group">
          <label class="control-label" for="desc">Description (Optional)</label>
          <div class="controls">
            <input type="text" id="desc" placeholder="My cat, jazzycat. meow.">
          </div>
        </div>
      </form>
    </div>
    <div class="modal-footer">
      <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
      <button class="btn btn-primary">Submit Contribtion</button>
    </div>
  </div>
</script>